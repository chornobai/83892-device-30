let feedbackOn=document.querySelector(".btn-feedback-on"),feedback=document.querySelector(".feedback"),feedbackClose=feedback.querySelector(".btn-feedback-close"),nameField=feedback.querySelector("[name=name]"),feedbackForm=feedback.querySelector(".feedback-form"),emailField=feedback.querySelector("[name=email]"),LocalStorageSupport=!0,storage="";try{storage=localStorage.getItem("name")}catch(e){isStorageSupport=!1}feedbackOn.addEventListener("click",function(e){e.preventDefault(),feedback.classList.add("feedback-show"),storage?(nameField.value=storage,emailField.focus()):nameField.focus()}),feedbackClose.addEventListener("click",function(e){e.preventDefault(),feedback.classList.remove("feedback-show")}),feedbackForm.addEventListener("submit",function(e){nameField.value&&emailField.value?isStorageSupport&&localStorage.setItem("name",nameField.value):(nameField.classList.add("error"),emailField.classList.add("error"),e.preventDefault())}),window.addEventListener("keydown",function(e){27===e.keyCode&&feedback.classList.contains("feedback-show")&&(e.preventDefault(),feedback.classList.remove("feedback-show"))});